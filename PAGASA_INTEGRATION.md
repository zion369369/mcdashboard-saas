# PAGASA Weather Parser Integration

This application integrates the **PAGASA Parser** library to process and analyze PAGASA (Philippine Atmospheric, Geophysical and Astronomical Services Administration) Tropical Cyclone Bulletins.

## Features

### üå™Ô∏è Text Parsing
- Parse PAGASA bulletin text directly
- Extract affected areas by signal level
- Identify partial coverage areas and specific municipalities
- Convert complex text descriptions into structured JSON data

### üìÑ PDF Parsing
- Upload and parse PAGASA PDF bulletins
- Extract data directly from official PDF documents
- Support for multiple PDF formats

### üìä Real-time Dashboard
- Weather status monitoring
- Parse statistics and system health
- Visual representation of affected areas
- Interactive parsing interface

## API Endpoints

### Parse Text Data
```
POST /api/weather/parse-text
Content-Type: application/json

{
  "text": "The rest of mainland Cagayan, the eastern portion of Ilocos Norte..."
}
```

### Parse PDF Files
```
POST /api/weather/parse-pdf
Content-Type: multipart/form-data

FormData: bulletin (PDF file)
```

### Weather Status
```
GET /api/weather/status
```

### Sample Data
```
GET /api/weather/samples
```

## Usage Examples

### Basic Text Parsing
```javascript
const response = await fetch('/api/weather/parse-text', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    text: "The rest of mainland Cagayan, the eastern portion of Ilocos Norte (Pagudpud, Adams, Dumalneg, Bangui, Vintar, Carasi, Nueva Era, Burgos, Pasuquin, Bacarra, Laoag City, Piddig, Solsona, Dingras, Sarrat, San Nicolas)"
  })
});

const result = await response.json();
console.log(result.data);
```

### PDF Parsing
```javascript
const formData = new FormData();
formData.append('bulletin', pdfFile);

const response = await fetch('/api/weather/parse-pdf', {
  method: 'POST',
  body: formData
});

const result = await response.json();
console.log(result.data);
```

## Sample Output

The parser converts this text:
```
The rest of mainland Cagayan, the eastern portion of Ilocos Norte (Pagudpud, Adams, Dumalneg, Bangui, Vintar, Carasi, Nueva Era, Burgos, Pasuquin, Bacarra, Laoag City, Piddig, Solsona, Dingras, Sarrat, San Nicolas)
```

Into structured data:
```json
{
  "areas": {
    "0": [
      {
        "name": "Cagayan",
        "part": true,
        "includes": {
          "type": "rest",
          "term": "mainland"
        }
      },
      {
        "name": "Ilocos Norte",
        "part": true,
        "includes": {
          "type": "section",
          "term": "portion",
          "part": "eastern",
          "objects": [
            "Pagudpud", "Adams", "Dumalneg", "Bangui",
            "Vintar", "Carasi", "Nueva Era", "Burgos",
            "Pasuquin", "Bacarra", "Laoag City", "Piddig",
            "Solsona", "Dingras", "Sarrat", "San Nicolas"
          ]
        }
      }
    ]
  }
}
```

## Navigation

- **Main Dashboard**: `/account` - Shows weather status preview
- **Weather Parser**: `/weather` - Full parsing interface
- **API Documentation**: Available through the interface

## Dependencies

- `pagasa-parser`: Core parsing library
- `@pagasa-parser/source-pdf`: PDF parsing support
- `multer`: File upload handling

## Data Usage

All PAGASA bulletins are under public domain, making any data generated by the PAGASA Parser also part of the public domain. You can use the formatted data for:

- Website integration
- Specialized graphics generation
- News reports
- Research and analysis
- Emergency response systems

## Development

The weather parser is fully integrated into the Nextacular SaaS framework, providing:

- User authentication
- Multi-tenant support
- Real-time updates
- Responsive design
- Error handling and validation

## Contributing

This integration demonstrates how to:
1. Add external parsing libraries to a Next.js application
2. Create API endpoints for data processing
3. Build interactive dashboards with React
4. Handle file uploads and processing
5. Integrate real-time data visualization

For more information about the PAGASA Parser library, visit the official documentation.
